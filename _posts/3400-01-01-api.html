---
layout: gl-docs
category: api
title: Mapbox GL JS API
permalink: /api
navigation:
  - title: mapboxgl.Map
    url: /api
    id: map-constructor
    subnav:
      - title: constructor
        url: /api
        id: map-constructor
      - title: methods
        url: /api
        id: map-methods
      - title: events
        url: /api
        id: map-events
  - title: mapboxgl.Source
    url: /api
    id: source-constructor
    subnav:
      - title: constructor
        url: /api
        id: source-constructor
      - title: methods
        url: /api
        id: source-methods
      - title: events
        url: /api
        id: source-events
  - title: mapboxgl.GeoJSONSource
    url: /api
    id: geojson-constructor
  - title: mapboxgl.Evented
    url: /api
    id: evented
  - title: mapboxgl.LatLng
    url: /api
    id: latlng-constructor
    subnav:
      - title: constructor
        url: /api
        id: latlng-constructor
      - title: mapbox.LatLngBounds
        url: /api3
        id: latlngbounds-constructor
      - title: methods
        url: /api
        id: latlng-methods
  - title: mapboxgl.util.supported
    url: /api
    id: supported
  - title: mapboxgl.util.getJSON
    url: /api
    id: getjson
---

<h1>Mapbox GL API Documentation</h1>

<div class='round fill-yellow pad1 small space-bottom2'>Note, the following API documentation applies to <code>mapbox-gl-js</code>. For <code>mapbox-gl-cocoa</code> documentation and implementation instructions, view the <a href='https://github.com/mapbox/mapbox-gl-cocoa/blob/master/README.md'>readme</a>.</div>

<h2 id='map-constructor'>new mapboxgl.Map(<span class='quiet'>options</span>)</h2>
<p>Creates a map instance given an options object with the following properties:</p>

<table>
<thead>
  <tr>
    <th>Options</th>
    <th>Value</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><code>container</code></td>
    <td><code>strong</code></td>
    <td>HTML element to initialize the map in (or element id as string)</td>
  </tr>
  <tr>
    <td><code>minZoom</code></td>
    <td><code>number</code></td>
    <td>Minimum zoom of the map, 0 by default</td>
  </tr>
  <tr>
    <td><code>maxZoom</code></td>
    <td><code>number</code></td>
    <td>Maximum zoom of the map, 20 by default</td>
  </tr>
  <tr>
    <td><code>style</code></td>
    <td><code>object</code></td>
    <td>Map style and data source definition, described in the <a href='{{site.baseurl}}/mapbox-gl-style-spec'>style reference</a></span></td>
  </tr>
  <tr>
    <td><code>hash</code></td>
    <td><code>boolean</code></td>
    <td>If <code>true</code>, the map will track and update the page URL according to map position (default: <code>false</code>)</td>
  </tr>
  <tr>
    <td><code>interactive</code></td>
    <td><code>boolean</code></td>
    <td>If <code>false</code>, no mouse, touch, or keyboard listeners are attached to the map, so it will not respond to input (default: <code>true</code>)</td>
  </tr>
</tbody>
</table>

<p>Options that define the initial position of the map unless `hash` is set to true, in which position will be set according to the URL and options will be used by default.</p>

<table>
<thead>
  <tr>
    <th>Options</th>
    <th>Value</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><code>center</code></td>
    <td><code>array</code></td>
    <td>Latitude and longitude (passed as <code>[lat, lng]</code>)</td>
  </tr>
  <tr>
    <td><code>zoom</code></td>
    <td><code>number</code></td>
    <td>Map zoom level</td>
  </tr>
  <tr>
    <td><code>bearing</code></td>
    <td><code>number</code></td>
    <td>Map rotation bearing (degrees)</td>
  </tr>
</tbody>
</table>

<p><em>Example:</em></p>
<pre class='dark'>
var map = new mapboxgl.Map({
    container: 'map',
    center: [37.772537, -122.420679],
    zoom: 13,
    style: style_object,
    hash: true
});
</pre>

<h3 id='map-methods'>Methods</h3>

<h4 id='setting-map-state'>Setting map state</h4>

<table>
<thead>
  <tr>
    <th>Method</th>
    <th>Returns</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><code>setPosition(latlng, zoom, bearing)</code></td>
    <td><code>this</code></td>
    <td>Set map position</td>
  </tr>
  <tr>
    <td><code>setBearing(bearing, offset)</code></td>
    <td><code>this</code></td>
    <td>Sets map rotation bearing in degrees, optional given <code>offset</code>. The origin of rotation is relative to the center of the map.</td>
  </tr>
  <tr>
    <td><code>zoomTo(zoom, <a href='#map-method-options'>animOptions?</a>)</code></td>
    <td><code>this</code></td>
    <td>Zoom to a certain zoom level with easing (duration in ms, 500 by default)</td>
  </tr>
  <tr>
    <td><code>scaleTo(scale, <a href='#map-method-options'>animOptions?</a>)</code></td>
    <td><code>this</code></td>
    <td>Zoom by a certain scale with easing</td>
  </tr>
  <tr>
    <td><code>panTo(latlng, <a href='#map-method-options'>animOptions?</a>)</code></td>
    <td><code>this</code></td>
    <td>Pan to a certain location level with easing</td>
  </tr>
  <tr>
    <td><code>panBy(offset, <a href='#map-method-options'>animOptions?</a>)</code></td>
    <td><code>this</code></td>
    <td>Pan by a certain number of pixels (offset is [x, y])</td>
  </tr>
  <tr>
    <td><code>flyTo(latlng, zoom?, bearing?, <a href='#map-method-options'>flyOptions?</a>)</code></td>
    <td><code>this</code></td>
    <td>Flying animation to a specified location/zoom/bearing with automatic curve</td>
  </tr>
  <tr>
    <td><code>flyTo(latlng, zoom?, bearing?, <a href='#map-method-options'>animOptions?</a>)</code></td>
    <td><code>this</code></td>
    <td>Zoom/pan/rotate with easing</td>
  </tr>
  <tr>
    <td><code>fitBounds(bounds, <a href='#map-method-options'>fitBoundsOptions?</a>)</code></td>
    <td><code>this</code></td>
    <td>Zoom to contain certain geographical bounds (<code>[[minLat, minLng], [maxLat, maxLng]]</code>)</td>
  </tr>
  <tr>
    <td><code>rotateTo(bearing, <a href='#map-method-options'>animOptions?</a>)</code></td>
    <td><code>this</code></td>
    <td>Rotate bearing by a certain number of degrees with easing</td>
  </tr>
   <tr>
    <td><code>resetNorth(<a href='#map-method-options'>animOptions?</a>)</code></td>
    <td><code>this</code></td>
    <td>Animates the map back to north rotation</td>
  </tr>
  <tr>
    <td><code>stop()</code></td>
    <td><code>this</code></td>
    <td>Stop current animation</td>
  </tr>
  <tr>
    <td><code>resize()</code></td>
    <td><code>this</code></td>
    <td>Detect the map container's new width and height and resize the map to fit</td>
  </tr>
  <tr>
    <td><code>setStyle(style)</code></td>
    <td><code>this</code></td>
    <td>Replaces the map's style object</td>
  </tr>
</tbody>
</table>

<h4 id='map-method-options'>Map method options</h4>

<table>
<thead>
  <tr>
    <th>Option</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><code>animOptions</code></td>
    <td>An object with <code>duration</code> (number in ms), <code>easing</code> (function), <code>offset</code> (point, origin of movement relative to map center) and <code>animate</code> (when set to false, no animation happens) options</td>
  </tr>
  <tr>
    <td><code>flyOptions</code></td>
    <td>An object with <code>speed</code> (1.2 by default, how fast animation occurs), <code>curve</code> (1.42 by default, defines how much zooming out occurs during animation), and <code>easing</code> (function) options</td>
  </tr>
  <tr>
    <td><code>fitBoundsOptions</code></td>
    <td>The same as <code>zoomPanOptions</code> with the additional <code>padding</code> (defines how much padding there is around the given bounds on each side in pixels) and <code>maxZoom</code> (number) options</td>
  </tr>
</tbody>
</table>

<h4 id='getting-map-state'>Getting map state</h4>

<table>
<thead>
  <tr>
    <th>Method</th>
    <th>Returns</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><code>getBounds()</code></td>
    <td><code>LatLngBounds object</code></td>
    <td>Get the map's geographical bounds</td>
  </tr>
  <tr>
    <td><code>getCenter()</code></td>
    <td><code>LatLng object</code></td>
    <td>Get the current view geographical point</td>
  </tr>
  <tr>
    <td><code>getZoom()</code></td>
    <td><code>number</code></td>
    <td>Get the current zoom</td>
  </tr>
  <tr>
    <td><code>getBearing()</code></td>
    <td><code>number</code></td>
    <td>Get the current view bearing in degrees</td>
  </tr>
  <tr>
    <td><code>project(latlng)</code></td>
    <td><code>object</code></td>
    <td>Get pixel coordinates (relative to map container) given a geographical location</td>
  </tr>
  <tr>
    <td><code>unproject(point)</code></td>
    <td><code>object</code></td>
    <td>Get geographical coordinates given pixel coordinates</td>
  </tr>
  <tr>
    <td><code>featuresAt(point, params, callback)</code></td>
    <td><code>object</code></td>
    <td>Get all features at a point where params is <code>{radius, bucket, type, geometry}</code> (all optional, radius is 0 by default)</td>
  </tr>
</tbody>
</table>

<p><em>Example:</em></p>
<pre class='dark'>
<span class='quiet'>// get all features at a point within a certain radius</span>
map.featuresAt([x, y], {
    radius: 30,          <span class='quiet'>// radius in pixels to search in</span>
    bucket: 'bucketname' <span class='quiet'>// optional; if set, only features from that bucket will be matched</span>
}, callback);
</pre>

<h4 id='working-with-sources'>Working with sources</h4>

<table>
<thead>
  <tr>
    <th>Method</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><code>addSource(id, source)</code></td>
    <td>Adds a data source to the map, specifying associated string id</td>
  </tr>
  <tr>
    <td><code>removeSource(id)</code></td>
    <td>Removes a data source from the map given the id that was used when adding</td>
  </tr>
</tbody>
</table>

<h3 id='map-events'>Events</h3>

<table>
<thead>
  <tr>
    <th>Event</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><code>move</code></td>
    <td>Fired during pan/rotation and after zoom</td>
  </tr>
  <tr>
    <td><code>panend({inertia})</code></td>
    <td>Fired after panning</td>
  </tr>
  <tr>
    <td><code>zoom({scale})</code></td>
    <td>Fired during zoom</td>
  </tr>
  <tr>
    <td><code>rotate({start, prev, current})</code></td>
    <td>Fired when map bearing changes</td>
  </tr>
  <tr>
    <td><code>click({point})</code></td>
    <td>Fired on map click</td>
  </tr>
  <tr>
    <td><code>hover({point})</code></td>
    <td>Fired when the mouse moves over the map</td>
  </tr>
  <tr>
    <td><code>resize</code></td>
    <td>Fired when the map changes size</td>
  </tr>
  <tr>
    <td><code>source.add({source})</code></td>
    <td>Fired when a data source is added</td>
  </tr>
  <tr>
    <td><code>source.remove({source})</code></td>
    <td>Fired when a data source is removed</td>
  </tr>
</tbody>
</table>

<h2 id='source-constructor'>new mapboxgl.Source(<span class='quiet'>options</span>)</h2>
<p>Creates a tiled data source instance given an options object with the following properties:</p>

<table>
<thead>
  <tr>
    <th>Options</th>
    <th>Value</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><code>type</code></td>
    <td><code>string</code></td>
    <td>Either <code>raster</code> or <code>vector</code></td>
  </tr>
  <tr>
    <td><code>zooms</code></td>
    <td><code>array</code></td>
    <td>An array of zoom level numbers to use (e.g. <code>[0, 1, 2, 4, 5]</code>)</td>
  </tr>
  <tr>
    <td><code>urls</code></td>
    <td><code>array</code></td>
    <td>An array of url templates to use (e.g. <code>'http://example.com/gl/tiles/plain/{z}-{x}-{y}.vector.pbf'</code>)</td>
  </tr>
  <tr>
    <td><code>id</code></td>
    <td><code>boolean</code></td>
    <td>Optional id to assign to the source</td>
  </tr>
</tbody>
</table>

<h3 id='source-methods'>Methods</h3>

<table>
<thead>
  <tr>
    <th>Method</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><code>update()</code></td>
    <td>Update tiles according to the viewport and render</td>
  </tr>
  <tr>
    <td><code>render()</code></td>
    <td>Render every existing tile</td>
  </tr>
  <tr>
    <td><code>stats()</code></td>
    <td>Return an object with tile statistics</td>
  </tr>
  <tr>
    <td><code>featuresAt(point, params, callback)</code></td>
    <td>Get all features at a point where params is <code>{radius, bucket, type, geometry}</code> (all optional, radius is 0 by default)</td>
  </tr>
</tbody>
</table>

<h3 id='source-events'>Events</h3>

<table>
<thead>
  <tr>
    <th>Event</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><code>tile.add({tile})</code></td>
    <td>Fired when a tile is added to the map</td>
  </tr>
  <tr>
    <td><code>tile.load({tile})</code></td>
    <td>Fired when a tile is loaded</td>
  </tr>
  <tr>
    <td><code>tile.remove({tile})</code></td>
    <td>Fired when a tile is removed from the map</td>
  </tr>
</tbody>
</table>

<h2 id='geojson-constructor'>new mapboxgl.GeoJSONSource(<span class='quiet'>options</span>)</h2>
<p>Create GeoJSON data source instance. Options are <code>data</code> for GeoJSON data and <code>glyphs</code> for glyphs url.</p>

<p><em>Example:</em></p>

<pre class='dark'>
var sourceObj = new mapboxgl.GeoJSONSource({data: geojson});

map.addSource('some id', sourceObj); <span class='quiet'>// add</span>
map.removeSource('some id');  <span class='quiet'>// remove</span>
</pre>

<h2 id='evented'>mapboxgl.Evented</h2>
<p>A class inherited by most other classes (<code>Map</code>, <code>Source</code>, etc.) to get event capabilities.</p>

<h3 id='evented-methods'>Methods</h3>

<table>
<thead>
  <tr>
    <th>Method</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><code>fire(type, data?)</code></td>
    <td>Fire event of a given string type with the given data object</td>
  </tr>
  <tr>
    <td><code>on(type, listener)</code></td>
    <td>Subscribe to a specified event with a listener function, which gets the data object that was passed to <code>fire</code> and additionally <code>target</code> and <code>type</code> properties</td>
  </tr>
  <tr>
    <td><code>off(type?, listener?)</code></td>
    <td>Remove a listener. Removes all listeners of a type if listener is not specified. Remove all listeners if no arguments specified.</td>
  </tr>
  <tr>
    <td><code>listens(type)</code></td>
    <td>Returns true if the object listens to an event of a particular type</td>
  </tr>
</tbody>
</table>

<h2 id='latlng-constructor'>new mapboxgl.LatLng(<span class='quiet'>latitude, longitude</span>)</h2>
<p>Creates a latitude, longitude object from a given latitude and longitude pair in degrees.</p>

<h3 id='latlngbounds-constructor'>mapboxgl.LatLng(<span class='quiet'>[southwest, northeast]</span>)</h3>
<p>A representation of rectangular box on the earth, defined by its southwest and northeast points in latitude and longitude. Creates a bounding box from the given pair of points. <code>southwest</code> and <code>northeast</code> can be ommitted to create a null bounding box.</p>

<h3 id='latlng-methods'>Methods</h3>

<table>
<thead>
  <tr>
    <th>Method</th>
    <th>Description</th>
  </tr>
</thead>
<tbody>
  <tr>
    <td><code>extend(LatLng)</code></td>
    <td>Enlarge the bounds to include a given point</td>
  </tr>
  <tr>
    <td><code>getCenter()</code></td>
    <td>Get the point equidistant from this box's corners, as a <code>LatLng</code> object</td>
  </tr>
  <tr>
    <td><code>getSouthWest()</code></td>
    <td>Get the southwest corner as a <code>LatLng</code> object</td>
  </tr>
  <tr>
    <td><code>getSouthEast()</code></td>
    <td>Get the southeast corner as a <code>LatLng</code> object</td>
  </tr>
  <tr>
    <td><code>getNorthWest()</code></td>
    <td>Get the northwest corner as a <code>LatLng</code> object</td>
  </tr>
  <tr>
    <td><code>getNorthEast()</code></td>
    <td>Get the northeast corner as a <code>LatLng</code> object</td>
  </tr>
  <tr>
    <td><code>getNorth()</code></td>
    <td>Get the north edge's latitude as a number</td>
  </tr>
  <tr>
    <td><code>getSouth()</code></td>
    <td>Get the south edge's latitude as a number</td>
  </tr>
  <tr>
    <td><code>getWest()</code></td>
    <td>Get the west edge's longitude as a number</td>
  </tr>
  <tr>
    <td><code>getEast()</code></td>
    <td>Get the south edge's longitude as a number</td>
  </tr>
</tbody>
</table>

<h2 id='supported'>mapboxgl.util.supported()</h2>
<p>Tests whether the basic JavaScript and DOM features required for Mapbox GL are present. Returns true if Mapbox GL should be expected to work, and false if not.</p>

<h2 id='getjson'>mapboxgl.util.getJSON(<span class='quiet'>url, callback</span>)</h2>
<p>Get JSON file from url.</p>